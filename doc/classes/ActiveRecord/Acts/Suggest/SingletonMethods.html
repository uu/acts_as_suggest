<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: ActiveRecord::Acts::Suggest::SingletonMethods</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">ActiveRecord::Acts::Suggest::SingletonMethods</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../../files/lib/acts_as_suggest_rb.html">
                lib/acts_as_suggest.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
When searching for the word &quot;honnolullu&quot;, Google will promptly
suggest &quot;Did you mean: honolulu&quot;. This small module provides a
<tt>suggest</tt> method which enables developers to add this functionality
to any model, basing the suggestion on the existing values in the table.
Just place <tt>acts_as_suggest</tt> in a given model to mixin the method
<tt>suggest</tt>.
</p>
<p>
Example:
</p>
<pre>
  class Person &lt; ActiveRecord::Base
    acts_as_suggest
  end
</pre>
<p>
and then to retrieve suggestions:
</p>
<pre>
 MyModel.suggest(:field_name, searched_value, optional_treshold)
</pre>
<p>
or
</p>
<pre>
 MyModel.suggest([:field1, :field2, ...], searched_value, optional_treshold)
</pre>
<p>
The field_name(s) specify in what columns we need to look for the
suggested/existing values. The searched_value is the supposedly misspelled
string for which we want to retrieve corrections. The optional_treshold
defines the tolerance level in determining the Levenshtein distance between
the searched string and existing values in the database. If omitted, this
value is calculated based on the length of the string.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000003">suggest</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="SingletonMethods.src/M000003.html" target="Code" class="method-signature"
            onclick="popupCode('SingletonMethods.src/M000003.html');return false;">
          <span class="method-name">suggest</span><span class="method-args">(fields, word, treshold = nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Output:
</p>
<ul>
<li>If the value of <tt>word</tt> exists for the specified column(s) =&gt;
Records are returned (equivalent to a find(:all, :conditions =&gt;
&#8217;&#8230;&#8217;)

</li>
<li>If the value doesn&#8217;t exist in the table, but there are similar
existing ones in the specified field(s) =&gt; An array of possible intended
values is returned

</li>
<li>If the value doesn&#8217;t exist in the table and there are not enough
similar strings stored =&gt; [] is returned

</li>
</ul>
<p>
Examples:
</p>
<pre>
  Person.suggest(:city, 'Rome') #=&gt; [#&lt;Post:0x556fcd4 @attributes={&quot;city&quot;=&gt;&quot;Rome&quot;, &quot;name&quot;=&gt;&quot;Antonio&quot;, &quot;id&quot;=&gt;&quot;1&quot;,&quot;country&quot;=&gt;&quot;Italy&quot;}&gt;]
  Person.suggest(:city, 'Rom') #=&gt; [&quot;Rome&quot;, &quot;Roma&quot;]
  Person.suggest([:city, :country], 'Romai'] #=&gt; [&quot;Rome&quot;, &quot;Roma&quot;, &quot;Romania&quot;]
  Person.suggest(:city, 'Vancovvver', 1) #=&gt; []
</pre>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>